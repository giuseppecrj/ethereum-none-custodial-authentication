<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1754" height="2413"><desc>title%20Generate%20offline%20recovery%20code%0A%0AYourClient-%3EYourClient%3A%20The%20user%20is%20already%20logged%20in.%0A%0AYourClient-%3EYourClient%3A%20Generate%20a%20offline%20recovery%20code%0A%0AYourClient-%3EYourClient%3A%20Enter%20current%20password%0A%0AYourClient-%3EThisPackage%3A%20getAuthenticationToken('username'%2C'password')%0A%0AThisPackage-%3EYourClient%3A%20Return%20the%20authentication%20token%5Cn%20keccak(master_key)%0A%0AYourClient-%3EYourServer%3A%20Up%20to%20your%20dApp%20but%20as%20the%20user%20is%20logged%5Cnin%20on%20your%20dApp%20side%20you%20probably%20want%20to%5Cnauthentication%20on%20this%20endpoint.%0A%0AYourClient-%3EYourServer%3A%20Get%20the%20encrypted%20key%20info%20for%20the%20user%3A%20%5Cn-%20username%20%5Cn-%20authenticationToken%0A%0AYourServer-%3EYourServer%3A%20Looking%20from%20db%20using%20username%3A%20%5Cn-%20serverAuthenticationToken%5Cn-%20salt%5Cn-%20EncryptedWallet.key%5Cn-%20EncryptedWallet.iv%0A%0AYourServer-%3EThisPackage%3AserverHashMatchesClientHash(salt%2C%20clientAuthenticationToken%2C%20serverAuthenticationToken)%5Cn%5CnMakes%20sure%20the%20stored%20auth%20token%20matches%20the%20one%20sending%20in%20before%20returning%20the%20encrypted%20info%5Cn%5CnIf%20you%20are%20not%20using%20node%20as%20your%20backend%20the%20github%5Creadme%20explains%20what%20this%20method%20does%20so%20you%20can%5Cnwrite%20it%20in%20the%20language%20your%20using.%0A%0AThisPackage-%3EYourServer%3ABoolean%20result%0A%0AYourServer-%3EYourServer%3AIf%20false%20do%20not%20carry%20on%20and%20return%5Cnand%204xx%20http%20code%20back%20to%20your%20client.%0A%0AYourServer-%3EYourClient%3A%20Returns%3A%5Cn-EncryptedWallet.key%5Cn-EncryptedWallet.iv%0A%0AYourClient-%3EThisPackage%3A%20generateOfflineRecoveryCode(%5Cn'username'%2C%20%5Cn'password'%2C%5Cn%20EncryptedKeyInfo)%0A%0AThisPackage-%3EYourClient%3A%20return%20GenerateRecoveryCodeResponse%20object%0A%0AYourClient-%3EYourServer%3ASend%20to%20the%20server%20%5Cn%20-%20Username%5Cn%20-%20GenerateRecoveryCodeResponse.ethereumAddress%20%5Cn%20-%20GenerateRecoveryCodeResponse.signature%20%5Cn%20-%20GenerateRecoveryCodeResponse.userRecoveryCodeAuthenticationToken%2C%20%5Cn%20-%20GenerateRecoveryCodeResponse.encryptedKeyInfo.key%20%5Cn%20-%20GenerateRecoveryCodeResponse.encryptedKeyInfo.iv%5Cn%5CnThe%20signature%20is%20a%20signed%20hash%20of%20the%20recovery%20encrypted%5Cnprivate%20key%20%2B%20iv%20signed%20with%20your%20ethereum%20private%20key%5Cn%5CnAs%20you%20have%20this%20signature%20here%20you%20in%20theory%20can%5Cnverify%20the%20ethereum%20address%20is%20owned%20by%20this%20user.%5CnYou%20can%20add%20more%20authentication%20in%20here%20like%20a%20%5Cnjwt%20token%20or%20something%20along%20those%20lines%20but%20that%5Cnis%20up%20to%20you%20to%20decide%20depending%20on%20your%20dApps%5Cnrequirements.%0A%0AYourServer-%3EThisPackage%3AverifyEthereumAddress(GenerateRecoveryCodeResponse.signature%2C%5CnGenerateRecoveryCodeResponse.encryptedKeyInfo%2C%5CnGenerateRecoveryCodeResponse.ethereumAddress)%5Cn%5CnThe%20signature%20is%20a%20signed%20hash%20of%20the%20recovery%20encrypted%5Cnprivate%20key%20%2B%20iv%20signed%20with%20your%20ethereum%20private%20key%5Cn%5CnIf%20you%20are%20not%20using%20node%20as%20your%20backend%20the%20github%5Creadme%20explains%20what%20this%20method%20does%20so%20you%20can%5Cnwrite%20it%20in%20the%20language%20your%20using.%0A%0AThisPackage-%3EYourServer%3ABoolean%20result%0A%0AYourServer-%3EYourServer%3AIf%20false%20do%20not%20carry%20on%20and%20return%5Cnand%204xx%20http%20code%20back%20to%20your%20client.%0A%0AYourServer-%3EThisPackage%3AhashAuthenticationTokenOnServer(GenerateRecoveryCodeResponse.userAuthenticationToken)%5CnThis%20returns%20a%20random%20salt%20and%20the%20server%20authentication%20hash%5Cn(HashAuthenticationTokenOnServerResponse)%5Cn%5CnIf%20you%20are%20not%20using%20node%20as%20your%20backend%20the%20github%5Creadme%20explains%20what%20this%20method%20does%20so%20you%20can%5Cnwrite%20it%20in%20the%20language%20your%20using.%0A%0AThisPackage-%3EYourServer%3Areturn%20HashAuthenticationTokenOnServerResponse%5Cn-%20HashAuthenticationTokenOnServerResponse.serverAuthenticationHash%5Cn-%20HashAuthenticationTokenOnServerResponse.salt%0A%0AYourServer-%3EYourServer%3AInsert%20in%20recovery%20code%20db%20table%20mapped%20to%20username%20%5Cn%20-%20HashAuthenticationTokenOnServerResponse.serverAuthenticationHash%5Cn%20-%20HashAuthenticationTokenOnServerResponse.salt%5Cn%20-%20GenerateRecoveryCodeResponse.userRecoveryCodeAuthenticationToken%2C%20%5Cn%20-%20GenerateRecoveryCodeResponse.encryptedKeyInfo.key%20%5Cn%20-%20GenerateRecoveryCodeResponse.encryptedKeyInfo.iv%5Cn%0A%0AYourServer-%3EYourClient%3A%20Done%0A%0AYourClient-%3EYourClient%3A%20Show%20GenerateRecoveryCodeResponse.offlineRecoveryCode%5Cnto%20the%20user%20for%20them%20to%20download%20or%20copy%20and%20save%20somewhere%0A%0AYourClient-%3EYourClient%3A%20Offline%20recovery%20code%20generated%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1754" height="2413"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="727.0029549962396" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generate offline recovery code</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 95.887643371 L 59.44174278714063 2413.852991641" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 95.887643371 L 495.2090429940417 2413.852991641" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 95.887643371 L 1217.6310963578437 2413.852991641" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 51.782594461 L 110.71588392428126 51.782594461 L 110.71588392428126 95.887643371 L 8.167601650000002 95.887643371 L 8.167601650000002 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">YourClient</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 435.11242260885416 51.782594461 L 555.3056633792291 51.782594461 L 555.3056633792291 95.887643371 L 435.11242260885416 95.887643371 L 435.11242260885416 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="452.8361181893542" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ThisPackage</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1163.5080019736329 51.782594461 L 1271.7541907420548 51.782594461 L 1271.7541907420548 95.887643371 L 1163.5080019736329 95.887643371 L 1163.5080019736329 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1181.2316975541328" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">YourServer</text></g></g><g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="128.558049971" width="197.21972908082031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="143.259732941" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The user is already logged in.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 149.793814261 L 124.78255598714063 149.793814261 L 124.78255598714063 171.029578551 L 72.8910601708073 171.029578551" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,171.029578551) translate(-59.44174278714063,-171.029578551)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 164.22324384266665 L 59.44174278714063 171.029578551 L 73.0544122038073 177.83591325933332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="195.53238350099997" width="217.32708992066406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="210.23406647099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generate a offline recovery code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 216.768147791 L 124.78255598714063 216.768147791 L 124.78255598714063 238.00391208099998 L 72.8910601708073 238.00391208099998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,238.00391208099998) translate(-59.44174278714063,-238.00391208099998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 231.19757737266664 L 59.44174278714063 238.00391208099998 L 73.0544122038073 244.81024678933332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="262.506717031" width="156.45381416382813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="277.208400001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Enter current password</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 283.74248132099996 L 124.78255598714063 283.74248132099996 L 124.78255598714063 304.978245611 L 72.8910601708073 304.978245611" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,304.978245611) translate(-59.44174278714063,-304.978245611)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 298.17191090266664 L 59.44174278714063 304.978245611 L 73.0544122038073 311.7845803193333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="122.18727670223178" y="329.48105056099996" width="310.2762323767187" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="124.63755719723179" y="344.18273353099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">getAuthenticationToken('username','password')</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 350.716814851 L 481.759725610375 350.716814851" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(495.2090429940417,350.716814851) translate(-495.2090429940417,-350.716814851)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 481.596373577375 343.91048014266664 L 495.2090429940417 350.716814851 L 481.596373577375 357.5231495593333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="172.9997004082865" y="375.21961980099996" width="208.65138496460938" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="172.9997004082865" y="391.55482310099995" width="140.13312019410156" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="175.44998090328647" y="389.92130277099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return the authentication token</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="175.44998090328647" y="406.25650607099993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> keccak(master_key)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 412.790587391 L 72.8910601708073 412.790587391" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,412.790587391) translate(-59.44174278714063,-412.790587391)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 405.98425268266664 L 59.44174278714063 412.790587391 L 73.0544122038073 419.5969220993333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="499.5793946927265" y="437.29339234099996" width="274.64992012085935" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="499.5793946927265" y="453.62859564099995" width="277.9140497595312" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="499.5793946927265" y="469.96379894099994" width="207.8496576696875" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="502.0296751877265" y="451.99507531099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Up to your dApp but as the user is logged</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="502.0296751877265" y="468.3302786109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">in on your dApp side you probably want to</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="502.0296751877265" y="484.6654819109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authentication on this endpoint.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 491.19956323099996 L 1204.181778974177 491.19956323099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,491.19956323099996) translate(-1217.6310963578437,-491.19956323099996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 484.3932285226666 L 1217.6310963578437 491.19956323099996 L 1204.018426941177 498.0058979393333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="507.33528458530463" y="515.702368181" width="262.402269974375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="507.33528458530463" y="532.037571481" width="83.11813606324219" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="507.33528458530463" y="548.372774781" width="144.26341499390625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="509.78556508030465" y="530.404051151" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get the encrypted key info for the user: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="509.78556508030465" y="546.739254451" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- username </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="509.78556508030465" y="563.074457751" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- authenticationToken</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 569.608539071 L 1204.181778974177 569.608539071" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,569.608539071) translate(-1217.6310963578437,-569.608539071)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 562.8022043626667 L 1217.6310963578437 569.608539071 L 1204.018426941177 576.4148737793333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="594.111344021" width="226.55401863160156" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="610.446547321" width="186.61842598023438" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="626.781750621" width="36.66861213746094" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="643.116953921" width="146.9333979040625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="659.452157221" width="134.707201615" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="608.813026991" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Looking from db using username: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="625.148230291" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- serverAuthenticationToken</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="641.483433591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- salt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="657.818636891" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- EncryptedWallet.key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="674.153840191" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- EncryptedWallet.iv</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 680.687921511 L 1282.9719095578437 680.687921511 L 1282.9719095578437 701.923685801 L 1231.0804137415105 701.923685801" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,701.923685801) translate(-1217.6310963578437,-701.923685801)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1231.2437657745104 695.1173510926667 L 1217.6310963578437 701.923685801 L 1231.2437657745104 708.7300205093334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="514.5390335657082" y="726.4264907510001" width="594.8501459509375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="742.7616940510001" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="759.096897351" width="634.0412470251563" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="775.432100651" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="791.767303951" width="683.7620722204688" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="808.102507251" width="227.37719978394531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="741.128173721" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">serverHashMatchesClientHash(salt, clientAuthenticationToken, serverAuthenticationToken)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="757.463377021" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="773.798580321" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Makes sure the stored auth token matches the one sending in before returning the encrypted info</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="790.133783621" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="806.468986921" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If you are not using node as your backend the github\readme explains what this method does so you can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="822.804190221" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">write it in the language your using.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 829.338271541 L 508.65836037770833 829.338271541" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(495.2090429940417,829.338271541) translate(-495.2090429940417,-829.338271541)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 508.82171241070836 822.5319368326667 L 495.2090429940417 829.338271541 L 508.82171241070836 836.1446062493334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="807.108682308384" y="853.841076491" width="98.62277473511719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="809.558962803384" y="868.542759461" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Boolean result</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 875.076840781 L 1204.181778974177 875.076840781" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,875.076840781) translate(-1217.6310963578437,-875.076840781)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 868.2705060726666 L 1217.6310963578437 875.076840781 L 1204.018426941177 881.8831754893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="899.5796457309999" width="220.8489252478125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="915.9148490309999" width="246.93338264527344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="914.2813287009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If false do not carry on and return</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="930.6165320009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and 4xx http code back to your client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 937.1506133209999 L 1282.9719095578437 937.1506133209999 L 1282.9719095578437 958.386377611 L 1231.0804137415105 958.386377611" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,958.386377611) translate(-1217.6310963578437,-958.386377611)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1231.2437657745104 951.5800429026666 L 1217.6310963578437 958.386377611 L 1231.2437657745104 965.1927123193333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="567.1062272732929" y="982.889182561" width="60.3049799353125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="567.1062272732929" y="999.224385861" width="142.86038459839844" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="567.1062272732929" y="1015.559589161" width="130.63418830933594" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="569.5565077682929" y="997.590865531" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="569.5565077682929" y="1013.926068831" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">-EncryptedWallet.key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="569.5565077682929" y="1030.261272131" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">-EncryptedWallet.iv</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 1036.795353451 L 72.8910601708073 1036.795353451" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,1036.795353451) translate(-59.44174278714063,-1036.795353451)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 1029.9890187426668 L 59.44174278714063 1036.795353451 L 73.0544122038073 1043.6016881593332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="173.96248422176305" y="1061.298158401" width="206.72581733765625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="173.96248422176305" y="1077.633361701" width="83.83394111695313" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="173.96248422176305" y="1093.9685650010001" width="77.31282295289063" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="173.96248422176305" y="1110.3037683010002" width="129.5748011023047" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.41276471676304" y="1075.999841371" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">generateOfflineRecoveryCode(</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.41276471676304" y="1092.335044671" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">'username', </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.41276471676304" y="1108.6702479710002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">'password',</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.41276471676304" y="1125.0054512710003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> EncryptedKeyInfo)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 1131.539532591 L 481.759725610375 1131.539532591" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(495.2090429940417,1131.539532591) translate(-495.2090429940417,-1131.539532591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 481.596373577375 1124.7331978826667 L 495.2090429940417 1131.539532591 L 481.596373577375 1138.3458672993331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="120.04338632137241" y="1156.042337541" width="314.5640131384375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="122.49366681637241" y="1170.7440205110001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return GenerateRecoveryCodeResponse object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 1177.278101831 L 72.8910601708073 1177.278101831" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,1177.278101831) translate(-59.44174278714063,-1177.278101831)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 1170.4717671226667 L 59.44174278714063 1177.278101831 L 73.0544122038073 1184.0844365393332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1201.7809067809999" width="128.76593269410156" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1218.116110081" width="85.5519281775" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1234.451313381" width="365.88835395875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1250.7865166810002" width="310.4838739782812" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1267.1217199810003" width="511.7650019079687" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1283.4569232810004" width="391.156664505625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1299.7921265810005" width="374.8574701696875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1316.1273298810006" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1332.4625331810007" width="374.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1348.7977364810008" width="354.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1365.132939781001" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1381.468143081001" width="325.9813105017187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1397.8033463810011" width="330.8416620642187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1414.1385496810012" width="309.9827143103125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1430.4737529810013" width="318.6513544470312" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1446.8089562810014" width="314.6141230017187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="382.65391861850776" y="1463.1441595810015" width="94.52829231324219" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1216.482589751" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send to the server </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1232.817793051" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - Username</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1249.1529963510002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.ethereumAddress </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1265.4881996510003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.signature </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1281.8234029510004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.userRecoveryCodeAuthenticationToken, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1298.1586062510005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.encryptedKeyInfo.key </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1314.4938095510006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.encryptedKeyInfo.iv</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1330.8290128510007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1347.1642161510008" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The signature is a signed hash of the recovery encrypted</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1363.499419451001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">private key + iv signed with your ethereum private key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1379.834622751001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1396.169826051001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">As you have this signature here you in theory can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1412.5050293510012" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verify the ethereum address is owned by this user.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1428.8402326510013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">You can add more authentication in here like a </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1445.1754359510014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">jwt token or something along those lines but that</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1461.5106392510015" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">is up to you to decide depending on your dApps</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.1041991135078" y="1477.8458425510016" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">requirements.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 1484.3799238709998 L 1204.181778974177 1484.3799238709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,1484.3799238709998) translate(-1217.6310963578437,-1484.3799238709998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 1477.5735891626666 L 1217.6310963578437 1484.3799238709998 L 1204.018426941177 1491.186258579333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1508.8827288209998" width="454.7000605017187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1525.2179321209999" width="351.242602005625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1541.553135421" width="353.669359818125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1557.888338721" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1574.2235420210002" width="374.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1590.5587453210003" width="354.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1606.8939486210004" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1623.2291519210005" width="683.7620722204688" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1639.5643552210006" width="227.37719978394531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1523.5844117909999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verifyEthereumAddress(GenerateRecoveryCodeResponse.signature,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1539.919615091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GenerateRecoveryCodeResponse.encryptedKeyInfo,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1556.254818391" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GenerateRecoveryCodeResponse.ethereumAddress)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1572.5900216910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1588.9252249910003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The signature is a signed hash of the recovery encrypted</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1605.2604282910004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">private key + iv signed with your ethereum private key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1621.5956315910005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1637.9308348910006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If you are not using node as your backend the github\readme explains what this method does so you can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1654.2660381910007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">write it in the language your using.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 1660.8001195109998 L 508.65836037770833 1660.8001195109998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(495.2090429940417,1660.8001195109998) translate(-495.2090429940417,-1660.8001195109998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 508.82171241070836 1653.9937848026666 L 495.2090429940417 1660.8001195109998 L 508.82171241070836 1667.606454219333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="807.108682308384" y="1685.302924461" width="98.62277473511719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="809.558962803384" y="1700.004607431" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Boolean result</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 1706.5386887509999 L 1204.181778974177 1706.5386887509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,1706.5386887509999) translate(-1217.6310963578437,-1706.5386887509999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 1699.7323540426667 L 1217.6310963578437 1706.5386887509999 L 1204.018426941177 1713.345023459333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="1731.041493701" width="220.8489252478125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="1747.3766970010001" width="246.93338264527344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="1745.7431766710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If false do not carry on and return</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="1762.0783799710002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and 4xx http code back to your client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 1768.612461291 L 1282.9719095578437 1768.612461291 L 1282.9719095578437 1789.848225581 L 1231.0804137415105 1789.848225581" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,1789.848225581) translate(-1217.6310963578437,-1789.848225581)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1231.2437657745104 1783.0418908726667 L 1217.6310963578437 1789.848225581 L 1231.2437657745104 1796.6545602893332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1814.3510305309999" width="629.9468866735938" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1830.686233831" width="404.19890083375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1847.021437131" width="309.6678339392187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1863.3566404310002" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1879.6918437310003" width="683.7620722204688" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="514.5390335657082" y="1896.0270470310004" width="227.37719978394531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1829.052713501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hashAuthenticationTokenOnServer(GenerateRecoveryCodeResponse.userAuthenticationToken)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1845.387916801" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">This returns a random salt and the server authentication hash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1861.7231201010002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(HashAuthenticationTokenOnServerResponse)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1878.0583234010003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1894.3935267010004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If you are not using node as your backend the github\readme explains what this method does so you can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.9893140607082" y="1910.7287300010005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">write it in the language your using.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 1917.2628113209998 L 508.65836037770833 1917.2628113209998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(495.2090429940417,1917.2628113209998) translate(-495.2090429940417,-1917.2628113209998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 508.82171241070836 1910.4564766126666 L 495.2090429940417 1917.2628113209998 L 508.82171241070836 1924.069146029333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="616.0207230188332" y="1941.765616271" width="342.273363724375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="616.0207230188332" y="1958.100819571" width="480.7986933142187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="616.0207230188332" y="1974.4360228710002" width="335.745043411875" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.4710035138332" y="1956.467299241" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return HashAuthenticationTokenOnServerResponse</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.4710035138332" y="1972.8025025410002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- HashAuthenticationTokenOnServerResponse.serverAuthenticationHash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.4710035138332" y="1989.1377058410003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- HashAuthenticationTokenOnServerResponse.salt</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 495.2090429940417 1995.6717871609999 L 1204.181778974177 1995.6717871609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,1995.6717871609999) translate(-1217.6310963578437,-1995.6717871609999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1204.018426941177 1988.8654524526667 L 1217.6310963578437 1995.6717871609999 L 1204.018426941177 2002.478121869333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2020.174592111" width="356.124437943125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2036.5097954110001" width="484.8716913610937" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2052.8449987110002" width="339.81804145875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2069.1802020110003" width="511.7650019079687" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2085.5154053110004" width="391.156664505625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2101.8506086110006" width="374.8574701696875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="1236.9610869295104" y="2118.1858119110007" width="4.90056099" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2034.8762750810001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Insert in recovery code db table mapped to username </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2051.2114783810002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - HashAuthenticationTokenOnServerResponse.serverAuthenticationHash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2067.5466816810003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - HashAuthenticationTokenOnServerResponse.salt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2083.8818849810004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.userRecoveryCodeAuthenticationToken, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2100.2170882810005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.encryptedKeyInfo.key </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2116.5522915810006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - GenerateRecoveryCodeResponse.encryptedKeyInfo.iv</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1239.4113674245104" y="2132.8874948810007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 2139.421576201 L 1282.9719095578437 2139.421576201 L 1282.9719095578437 2160.657340491 L 1231.0804137415105 2160.657340491" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1217.6310963578437,2160.657340491) translate(-1217.6310963578437,-2160.657340491)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1231.2437657745104 2153.8510057826666 L 1217.6310963578437 2160.657340491 L 1231.2437657745104 2167.4636751993335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="618.5628770535664" y="2185.1601454409997" width="39.947085037851565" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="621.0131575485664" y="2199.861828411" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Done</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.6310963578437 2206.395909731 L 72.8910601708073 2206.395909731" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,2206.395909731) translate(-59.44174278714063,-2206.395909731)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 2199.5895750226664 L 59.44174278714063 2206.395909731 L 73.0544122038073 2213.2022444393333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="2230.898714681" width="409.6391474157812" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="78.7717333588073" y="2247.233917981" width="410.71998848023435" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="2245.600397651" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show GenerateRecoveryCodeResponse.offlineRecoveryCode</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="2261.935600951" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to the user for them to download or copy and save somewhere</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 2268.469682271 L 124.78255598714063 2268.469682271 L 124.78255598714063 2289.705446561 L 72.8910601708073 2289.705446561" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,2289.705446561) translate(-59.44174278714063,-2289.705446561)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 2282.8991118526665 L 59.44174278714063 2289.705446561 L 73.0544122038073 2296.5117812693334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="2314.208251511" width="213.254076615" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="2328.909934481" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Offline recovery code generated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 2335.4440158009998 L 124.78255598714063 2335.4440158009998 L 124.78255598714063 2356.679780091 L 72.8910601708073 2356.679780091" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,2356.679780091) translate(-59.44174278714063,-2356.679780091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 2349.8734453826664 L 59.44174278714063 2356.679780091 L 73.0544122038073 2363.4861147993333 Z"/></g></g></g><g/><g/><g/></g></svg>