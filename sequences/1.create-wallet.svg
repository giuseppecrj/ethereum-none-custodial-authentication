<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1465" height="1765"><desc>title%20Creating%20a%20new%20wallet%0A%0AYourClient-%3EYourClient%3A%20Enter%20username%0A%0AYourClient-%3EYourClient%3A%20Up%20to%20your%20dApp%20but%20you%20can%20put%20some%20device%5Cnvalidation%20on%20here%20like%20email%20validation%20etc%0A%0AYourClient-%3EYourClient%3A%20Set%20password%0A%0AYourClient-%3EThisPackage%3A%20createWallet('username'%2C%20'password')%0A%0AThisPackage-%3EYourClient%3A%20return%20EncryptedWallet%20object%0A%0AYourClient-%3EYourServer%3ASend%20to%20the%20server%20%5Cn%20-%20Username%5Cn%20-%20EncryptedWallet.wallet.ethereumAddress%20%5Cn%20-%20EncryptedWallet.signature%20%5Cn%20-%20EncryptedWallet.userAuthenticationToken%2C%20%5Cn%20-%20EncryptedWallet.encryptedKeyInfo.key%20%5Cn%20-%20EncryptedWallet.encryptedKeyInfo.iv%5Cn%5CnThe%20signature%20is%20a%20signed%20hash%20of%20the%20encrypted%5Cnprivate%20key%20%2B%20iv%20signed%20with%20your%20ethereum%20private%20key%5Cn%5CnAs%20you%20have%20this%20signature%20here%20you%20in%20theory%20can%5Cnverify%20the%20ethereum%20address%20is%20owned%20by%20this%20user.%5CnYou%20can%20add%20more%20authentication%20in%20here%20like%20a%20%5Cnjwt%20token%20or%20something%20along%20those%20lines%20but%20that%5Cnis%20up%20to%20you%20to%20decide%20depending%20on%20your%20dApps%5Cnrequirements.%0A%0AYourServer-%3EYourServer%3Acheck%20username%20doesnt%20already%20exist%0A%0AYourServer-%3EThisPackage%3AverifyEthereumAddress(EncryptedWallet.signature%2C%5CnEncryptedWallet.encryptedKeyInfo%2C%5CnEncryptedWallet.wallet.ethereumAddress)%5Cn%5CnThe%20signature%20is%20a%20signed%20hash%20of%20the%20encrypted%5Cnprivate%20key%20%2B%20iv%20signed%20with%20your%20ethereum%20private%20key%5Cn%5CnIf%20you%20are%20not%20using%20node%20as%20your%20backend%20the%20github%5Creadme%20explains%20what%20this%20method%20does%20so%20you%20can%5Cnwrite%20it%20in%20the%20language%20your%20using.%0A%0AThisPackage-%3EYourServer%3ABoolean%20result%0A%0AYourServer-%3EYourServer%3AIf%20false%20do%20not%20carry%20on%20and%20return%5Cnand%204xx%20http%20code%20back%20to%20your%20client.%0A%0AYourServer-%3EThisPackage%3AhashAuthenticationTokenOnServer(EncryptedWallet.userAuthenticationToken)%5CnThis%20returns%20a%20random%20salt%20and%20the%20server%20authentication%20hash%5Cn(HashAuthenticationTokenOnServerResponse)%5Cn%5CnIf%20you%20are%20not%20using%20node%20as%20your%20backend%20the%20github%5Creadme%20explains%20what%20this%20method%20does%20so%20you%20can%5Cnwrite%20it%20in%20the%20language%20your%20using.%0A%0AThisPackage-%3EYourServer%3Areturn%20HashAuthenticationTokenOnServerResponse%5Cn-%20HashAuthenticationTokenOnServerResponse.serverAuthenticationHash%5Cn-%20HashAuthenticationTokenOnServerResponse.salt%0A%0AYourServer-%3EYourServer%3ASave%20to%20db%20mapped%20to%20username%20%5Cn%20-%20HashAuthenticationTokenOnServerResponse.serverAuthenticationHash%5Cn%20-%20HashAuthenticationTokenOnServerResponse.salt%5Cn%20-%20EncryptedWallet.encryptedKeyInfo.key%20%5Cn%20-%20EncryptedWallet.encryptedKeyInfo.iv%5Cn%20-%20EncryptedWallet.wallet.ethereumAddress%0A%0AYourServer-%3EYourClient%3A%20Done%20-%20if%20your%20dApp%20uses%20backend%20calls%20throughout%20you%20should%20probably%5Cnreturn%20some%20kind%20of%20authentication%20token%20at%20this%20point.%20Again%20its%20up%20to%5Cnyour%20dApp%20usecase%0A%0AYourClient-%3EYourClient%3A%20EncryptedWallet.Wallet%20holds%20ethereum%20address%20%5Cn%20and%20private%20key%20to%20do%20any%20signing%20on%20the%20client%0A%0AYourClient-%3EYourClient%3A%20Wallet%20has%20been%20created%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1465" height="1765"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="627.7751260167474" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Creating a new wallet</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 95.887643371 L 59.44174278714063 1765.345420631" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 405.2663244881823 95.887643371 L 405.2663244881823 1765.345420631" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 95.887643371 L 955.9632801957343 1765.345420631" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 51.782594461 L 110.71588392428126 51.782594461 L 110.71588392428126 95.887643371 L 8.167601650000002 95.887643371 L 8.167601650000002 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">YourClient</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 345.1697041029948 51.782594461 L 465.36294487336977 51.782594461 L 465.36294487336977 95.887643371 L 345.1697041029948 95.887643371 L 345.1697041029948 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="362.8933996834948" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ThisPackage</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 901.8401858115234 51.782594461 L 1010.0863745799453 51.782594461 L 1010.0863745799453 95.887643371 L 901.8401858115234 95.887643371 L 901.8401858115234 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="919.5638813920234" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">YourServer</text></g></g><g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="128.558049971" width="109.20259346070313" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="143.259732941" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Enter username</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 149.793814261 L 124.78255598714063 149.793814261 L 124.78255598714063 171.029578551 L 72.8910601708073 171.029578551" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,171.029578551) translate(-59.44174278714063,-171.029578551)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 164.22324384266665 L 59.44174278714063 171.029578551 L 73.0544122038073 177.83591325933332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="195.532383501" width="301.5361200720312" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="78.7717333588073" y="211.867586801" width="275.451586380625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="210.23406647099998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Up to your dApp but you can put some device</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="226.56926977099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">validation on here like email validation etc</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 233.103351091 L 124.78255598714063 233.103351091 L 124.78255598714063 254.339115381 L 72.8910601708073 254.339115381" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,254.339115381) translate(-59.44174278714063,-254.339115381)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 247.53278067266666 L 59.44174278714063 254.339115381 L 73.0544122038073 261.14545008933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="278.84192033100004" width="93.71942390503906" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="293.543603301" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Set password</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 300.077684621 L 124.78255598714063 300.077684621 L 124.78255598714063 321.313448911 L 72.8910601708073 321.313448911" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,321.313448911) translate(-59.44174278714063,-321.313448911)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 314.5071142026667 L 59.44174278714063 321.313448911 L 73.0544122038073 328.11978361933336 Z"/></g></g><g><g><rect fill="white" stroke="none" x="110.92030129939975" y="345.816253861" width="242.86746467652344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="113.37058179439975" y="360.517936831" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">createWallet('username', 'password')</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 367.052018151 L 391.81700710451565 367.052018151" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(405.2663244881823,367.052018151) translate(-405.2663244881823,-367.052018151)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 391.65365507151563 360.2456834426667 L 405.2663244881823 367.052018151 L 391.65365507151563 373.85835285933337 Z"/></g></g><g><g><rect fill="white" stroke="none" x="134.02692971736852" y="391.554823101" width="196.65420784058594" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="136.4772102123685" y="406.256506071" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return EncryptedWallet object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 405.2663244881823 412.79058739100003 L 72.8910601708073 412.79058739100003" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,412.79058739100003) translate(-59.44174278714063,-412.79058739100003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 405.9842526826667 L 59.44174278714063 412.79058739100003 L 73.0544122038073 419.59692209933337 Z"/></g></g><g><g><rect fill="white" stroke="none" x="330.67465531284375" y="437.293392341" width="128.76593269410156" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="453.628595641" width="85.5519281775" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="469.963798941" width="289.5317865759375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="486.299002241" width="192.57403816285156" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="502.634205541" width="296.8903681189062" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="518.969408841" width="273.2468744665625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="535.304612141" width="256.9476648718359" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="551.639815441" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="567.975018741" width="313.769457474375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="584.310222041" width="354.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="600.645425341" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="616.980628641" width="325.9813105017187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="633.3158319409999" width="330.8416620642187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="649.6510352409999" width="309.9827143103125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="665.9862385409999" width="318.6513544470312" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="682.3214418409999" width="314.6141230017187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="330.67465531284375" y="698.6566451409999" width="94.52829231324219" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="451.995075311" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send to the server </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="468.330278611" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - Username</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="484.665481911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.wallet.ethereumAddress </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="501.00068521099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.signature </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="517.335888511" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.userAuthenticationToken, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="533.671091811" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.encryptedKeyInfo.key </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="550.006295111" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.encryptedKeyInfo.iv</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="566.341498411" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="582.676701711" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The signature is a signed hash of the encrypted</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="599.011905011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">private key + iv signed with your ethereum private key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="615.3471083109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="631.6823116109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">As you have this signature here you in theory can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="648.0175149109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verify the ethereum address is owned by this user.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="664.3527182109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">You can add more authentication in here like a </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="680.6879215109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">jwt token or something along those lines but that</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="697.0231248109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">is up to you to decide depending on your dApps</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.12493580784377" y="713.3583281109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">requirements.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 719.8924094309999 L 942.5139628120677 719.8924094309999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,719.8924094309999) translate(-955.9632801957343,-719.8924094309999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 942.3506107790677 713.0860747226666 L 955.9632801957343 719.8924094309999 L 942.3506107790677 726.6987441393333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="975.293270767401" y="744.3952143809998" width="246.91905464234375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="759.0968973509998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check username doesnt already exist</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 765.6309786709999 L 1021.3040933957343 765.6309786709999 L 1021.3040933957343 786.8667429609999 L 969.412597579401 786.8667429609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,786.8667429609999) translate(-955.9632801957343,-786.8667429609999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 969.575949612401 780.0604082526665 L 955.9632801957343 786.8667429609999 L 969.575949612401 793.6730776693332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="503.5869461633645" y="811.3695479109999" width="336.7902094275" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="827.7047512109999" width="233.33279670777344" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="844.0399545109999" width="277.3127314001562" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="860.3751578109999" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="876.7103611109999" width="313.769457474375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="893.0455644109999" width="354.0557123571875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="909.3807677109999" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="925.7159710109999" width="346.38930000367185" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="942.0511743109998" width="338.2003046423437" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="503.5869461633645" y="958.3863776109998" width="227.37719978394531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="826.0712308809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verifyEthereumAddress(EncryptedWallet.signature,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="842.4064341809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EncryptedWallet.encryptedKeyInfo,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="858.7416374809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EncryptedWallet.wallet.ethereumAddress)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="875.0768407809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="891.4120440809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The signature is a signed hash of the encrypted</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="907.7472473809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">private key + iv signed with your ethereum private key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="924.0824506809998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="940.4176539809998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If you are not using node as your backend the github</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="956.7528572809998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">readme explains what this method does so you can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="506.0372266583645" y="973.0880605809998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">write it in the language your using.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 979.6221419009998 L 418.71564187184896 979.6221419009998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(405.2663244881823,979.6221419009998) translate(-405.2663244881823,-979.6221419009998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.878993904849 972.8158071926665 L 405.2663244881823 979.6221419009998 L 418.878993904849 986.4284766093332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="631.3034149743996" y="1004.1249468509999" width="98.62277473511719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="633.7536954693996" y="1018.8266298209999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Boolean result</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 405.2663244881823 1025.360711141 L 942.5139628120677 1025.360711141" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,1025.360711141) translate(-955.9632801957343,-1025.360711141)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 942.3506107790677 1018.5543764326666 L 955.9632801957343 1025.360711141 L 942.3506107790677 1032.1670458493331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="975.293270767401" y="1049.863516091" width="220.8489252478125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1066.1987193910002" width="246.93338264527344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1064.5651990610002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If false do not carry on and return</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1080.9004023610003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and 4xx http code back to your client.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 1087.434483681 L 1021.3040933957343 1087.434483681 L 1021.3040933957343 1108.670247971 L 969.412597579401 1108.670247971" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,1108.670247971) translate(-955.9632801957343,-1108.670247971)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 969.575949612401 1101.8639132626668 L 955.9632801957343 1108.670247971 L 969.575949612401 1115.4765826793332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1133.173052921" width="512.0369745642188" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1149.508256221" width="404.19890083375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1165.843459521" width="309.6678339392187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1182.1786628210002" width="4.90056099" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1198.5138661210003" width="346.38930000367185" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1214.8490694210004" width="338.2003046423437" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="424.59631505984885" y="1231.1842727210005" width="227.37719978394531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1147.874735891" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hashAuthenticationTokenOnServer(EncryptedWallet.userAuthenticationToken)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1164.209939191" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">This returns a random salt and the server authentication hash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1180.5451424910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(HashAuthenticationTokenOnServerResponse)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1196.8803457910003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1213.2155490910004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">If you are not using node as your backend the github</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1229.5507523910005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">readme explains what this method does so you can</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="427.04659555484886" y="1245.8859556910006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">write it in the language your using.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 1252.420037011 L 418.71564187184896 1252.420037011" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(405.2663244881823,1252.420037011) translate(-405.2663244881823,-1252.420037011)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.878993904849 1245.6137023026668 L 405.2663244881823 1252.420037011 L 418.878993904849 1259.2263717193332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="440.21545568484885" y="1276.922841961" width="342.273363724375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="440.21545568484885" y="1293.258045261" width="480.7986933142187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="440.21545568484885" y="1309.593248561" width="335.745043411875" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="442.66573617984886" y="1291.624524931" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return HashAuthenticationTokenOnServerResponse</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="442.66573617984886" y="1307.959728231" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- HashAuthenticationTokenOnServerResponse.serverAuthenticationHash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="442.66573617984886" y="1324.2949315310002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">- HashAuthenticationTokenOnServerResponse.salt</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 405.2663244881823 1330.829012851 L 942.5139628120677 1330.829012851" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,1330.829012851) translate(-955.9632801957343,-1330.829012851)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 942.3506107790677 1324.0226781426668 L 955.9632801957343 1330.829012851 L 942.3506107790677 1337.6353475593332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="975.293270767401" y="1355.331817801" width="221.67930854859375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1371.667021101" width="484.8716913610937" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1388.0022244010001" width="339.81804145875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1404.3374277010003" width="273.2468744665625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1420.6726310010004" width="256.9476648718359" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="975.293270767401" y="1437.0078343010005" width="285.4587885290625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1370.033500771" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Save to db mapped to username </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1386.3687040710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - HashAuthenticationTokenOnServerResponse.serverAuthenticationHash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1402.7039073710002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - HashAuthenticationTokenOnServerResponse.salt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1419.0391106710003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.encryptedKeyInfo.key </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1435.3743139710004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.encryptedKeyInfo.iv</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="977.7435512624011" y="1451.7095172710005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> - EncryptedWallet.wallet.ethereumAddress</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 1458.2435985910001 L 1021.3040933957343 1458.2435985910001 L 1021.3040933957343 1479.479362881 L 969.412597579401 1479.479362881" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(955.9632801957343,1479.479362881) translate(-955.9632801957343,-1479.479362881)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 969.575949612401 1472.6730281726668 L 955.9632801957343 1479.479362881 L 969.575949612401 1486.2856975893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="273.39837967807813" y="1503.982167831" width="468.6082636267187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="273.39837967807813" y="1520.317371131" width="445.7808100134375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="273.39837967807813" y="1536.6525744310002" width="130.40515388550781" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="275.84866017307814" y="1518.683850801" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Done - if your dApp uses backend calls throughout you should probably</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="275.84866017307814" y="1535.0190541010002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return some kind of authentication token at this point. Again its up to</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="275.84866017307814" y="1551.3542574010003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">your dApp usecase</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.9632801957343 1557.888338721 L 72.8910601708073 1557.888338721" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,1557.888338721) translate(-59.44174278714063,-1557.888338721)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 1551.0820040126669 L 59.44174278714063 1557.888338721 L 73.0544122038073 1564.6946734293333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="1582.3911436710002" width="320.777269974375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="78.7717333588073" y="1598.7263469710003" width="306.4394403845312" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="1597.0928266410003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EncryptedWallet.Wallet holds ethereum address </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="1613.4280299410004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> and private key to do any signing on the client</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 1619.9621112610002 L 124.78255598714063 1619.9621112610002 L 124.78255598714063 1641.1978755510002 L 72.8910601708073 1641.1978755510002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,1641.1978755510002) translate(-59.44174278714063,-1641.1978755510002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 1634.391540842667 L 59.44174278714063 1641.1978755510002 L 73.0544122038073 1648.0042102593334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="78.7717333588073" y="1665.700680501" width="162.45237983765625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.2220138538073" y="1680.4023634710002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Wallet has been created</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 59.44174278714063 1686.9364447910002 L 124.78255598714063 1686.9364447910002 L 124.78255598714063 1708.1722090810001 L 72.8910601708073 1708.1722090810001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(59.44174278714063,1708.1722090810001) translate(-59.44174278714063,-1708.1722090810001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 73.0544122038073 1701.365874372667 L 59.44174278714063 1708.1722090810001 L 73.0544122038073 1714.9785437893333 Z"/></g></g></g><g/><g/><g/></g></svg>